(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{56:function(e,t,a){e.exports=a(97)},93:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),o=a.n(l),c=a(11),s=a(12),u=a(14),i=a(13),m=a(15),p=a(119),h=a(121),d=a(124),b=a(120),E=a(16),g=a.n(E),f=a(22),v=a(99),O=a(100),w=a(101),j=a(102),y=a(103),S=a(104),k=a(105),x=a(106),C=a(107),M=a(108),P=a(122),L=a(109),I=a(110),N=a(123),D=a(111),U=a(112),F=a(113),_=a(114),G=a(32),R=a.n(G),T=function(){var e=Object(f.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://swapi.co/api/","people/?search=").concat(t),e.next=3,R.a.get(a);case 3:if(200!==(n=e.sent).status||1!==n.data.count){e.next=6;break}return e.abrupt("return",n.data.results[0]);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://swapi.co/api/","planets/?search=").concat(t),e.next=3,R.a.get(a);case 3:if(200!==(n=e.sent).status){e.next=6;break}return e.abrupt("return",n.data.results);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).searchPlaces=function(){var e=Object(f.a)(g.a.mark(function e(t,n){var r,l,o,c,s;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.trim())&&!n){e.next=14;break}return e.next=4,A(r);case 4:if(!(l=e.sent)){e.next=12;break}if(a.setState({planets:l}),o=0,l.length)for(c=0;c<l.length;c++)(s=l[c]).population&&"unknown"!==s.population&&(o+=parseFloat(s.population));return a.setState({totalPopulation:o}),console.log(o),e.abrupt("return",null);case 12:e.next=16;break;case 14:return a.setState({planets:[]}),e.abrupt("return",null);case 16:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.toggle=function(){a.setState(function(e){return{showModal:!e.showModal}})},a.renderPlanets=function(e){var t=e.filter(function(e){return"unknown"!==e.name&&"unknown"!==e.population}),n=a.state.totalPopulation;return t.sort(function(e,t){return parseFloat(t.population)-parseFloat(e.population)}),t.map(function(e,t){var l=(100*e.population/n).toFixed(3);return r.a.createElement(v.a,{key:e.name,className:"mt-2"},r.a.createElement(O.a,null,r.a.createElement(w.a,{style:{marginBottom:4,fontSize:24}},r.a.createElement("b",null,e.name)),r.a.createElement(j.a,{style:{marginBottom:2}},r.a.createElement("b",null,e.name)," is made of mostly ",r.a.createElement("b",null,e.terrain)," and has gravity of"," ",r.a.createElement("b",null,e.gravity&&"N/A"!==e.gravity?e.gravity:"1 standard"),"."),r.a.createElement(j.a,{style:{marginBottom:2}},"It has population of ",r.a.createElement("b",null,e.population)," which is"," ",r.a.createElement("b",null,l,"%")," of total population from current list."),r.a.createElement(y.a,{value:Math.ceil(l),style:{marginTop:4}}),r.a.createElement("button",{className:"btn btn-info mt-2",onClick:function(){return a.setState({showModal:!0,planetDetails:e})}},"View Details")))})},a.state={planets:[],totalPopulation:0,planetDetails:"",showModal:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.searchPlaces("",!0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.planetDetails,n=t.planets;return r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a,null)),r.a.createElement(k.a,null,r.a.createElement(x.a,{xs:"0",sm:"1"}),r.a.createElement(x.a,{xs:"12",sm:"10",md:"10"},r.a.createElement(C.a,null,r.a.createElement(M.a,{type:"text",name:"searchKeyword",placeholder:"Search For Planets",onChange:function(t){return e.searchPlaces(t.target.value)}}),r.a.createElement(P.a,{addonType:"append"},r.a.createElement(L.a,{color:"secondary"},"Search")))),r.a.createElement(x.a,{sm:"4"})),r.a.createElement("br",null),r.a.createElement(k.a,null,r.a.createElement(x.a,{xs:"0",sm:"1",md:"1"}),r.a.createElement(x.a,{xs:"12",sm:"10",md:"10"},r.a.createElement(I.a,null,this.renderPlanets(n))),r.a.createElement(x.a,{xs:"0",sm:"1",md:"1"}),a?r.a.createElement(N.a,{isOpen:this.state.showModal,toggle:this.toggle},r.a.createElement(D.a,{toggle:this.toggle},"Planet Detail"),r.a.createElement(U.a,null,r.a.createElement(F.a,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("td",null,a.name)),r.a.createElement("tr",null,r.a.createElement("th",null,"Surface Water (in %)"),r.a.createElement("td",null,a.surface_water)),r.a.createElement("tr",null,r.a.createElement("th",null,"Gravity"),r.a.createElement("td",null,a.gravity)),r.a.createElement("tr",null,r.a.createElement("th",null,"Orbital Period"),r.a.createElement("td",null,a.orbital_period)),r.a.createElement("tr",null,r.a.createElement("th",null,"Diameter"),r.a.createElement("td",null,a.diameter)),r.a.createElement("tr",null,r.a.createElement("th",null,"Population"),r.a.createElement("td",null,a.population))))),r.a.createElement(_.a,null,r.a.createElement(L.a,{color:"secondary",onClick:this.toggle},"Close"))):null))}}]),t}(n.Component),W=a(21),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.user.isLoggedIn?r.a.createElement(B,null):r.a.createElement(b.a,{to:"/login"})}}]),t}(n.Component),H=Object(W.b)(function(e){return{user:e.user}},null)(z),J=a(26),K=a(115),V=a(116),q=a(117),Q=a(118),X=function(e,t){return{type:"USER_LOGIN",isLoggedIn:e,user:t}},Y=function(){return{type:"USER_LOGOUT"}},Z=a(8),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).handleSwChange=function(e){e.preventDefault();var t=e.target.name;a.setState(Object(J.a)({},t,e.target.value))},a.validateForm=function(){return a.state.username?!!a.state.password||(a.setState({errorMessage:"Please enter password"}),!1):(a.setState({errorMessage:"Please enter username"}),!1)},a.handleSubmit=function(){var e=Object(f.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.validateForm()){e.next=13;break}return a.setState({errorMessage:"",submitting:!0}),e.prev=3,e.next=6,T(a.state.username);case 6:(n=e.sent)?n.birth_year===a.state.password?(delete n.birth_year,a.props.actions.loginUser(!0,n)):a.setState({errorMessage:"Password is incorrect",submitting:!1}):a.setState({errorMessage:"Invalid Login details",submitting:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState({errorMessage:"Something went wrong with API",submitting:!1});case 13:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:"",errorMessage:"",login:!1,submitting:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(this.props.user.isLoggedIn)return r.a.createElement(b.a,{to:"/"});var e=this.state,t=e.errorMessage,a=e.submitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a,{sm:"12",md:{size:6,offset:3}},r.a.createElement("h2",null,"Sign In"),t?r.a.createElement(K.a,{color:"danger"},t):"",r.a.createElement(V.a,{className:"form",onSubmit:this.handleSubmit},r.a.createElement(q.a,null,r.a.createElement(Q.a,null,"Username"),r.a.createElement(M.a,{type:"text",name:"username",placeholder:"Username",onChange:this.handleSwChange})),r.a.createElement(q.a,null,r.a.createElement(Q.a,{for:"password"},"Password"),r.a.createElement(M.a,{type:"password",name:"password",onChange:this.handleSwChange,placeholder:"********"})),r.a.createElement(L.a,null,a?"Submitting..":"Submit"))))))}}]),t}(n.Component),ee=[{path:"/",exact:!0,name:"Home",component:H},{path:"/login",exact:!0,name:"Login",component:Object(W.b)(function(e){return{user:e.user}},function(e){return{actions:Object(Z.bindActionCreators)({loginUser:X},e)}})($)}],te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).logout=function(){a.props.actions.logoutUser(),window.location.href="#/login"},a.state={logout:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.user,t="Star Wars Demo".concat(e&&e.user?" ( "+e.user.name+" )":"");return r.a.createElement("div",{className:"header"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light menu"},r.a.createElement("div",{className:"navbar-nav col-md-11"},r.a.createElement("a",{className:"nav-item nav-link active ",href:"/"},t,r.a.createElement("span",{className:"sr-only"},"(current)"))),e.isLoggedIn?r.a.createElement("button",{className:"btn btn-success col-md-1",onClick:this.logout},"Logout"):""))}}]),t}(n.Component),ae=Object(W.b)(function(e){return{user:e.user}},function(e){return{actions:Object(Z.bindActionCreators)({logoutUser:Y},e)}})(te),ne=(a(93),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,null),r.a.createElement("br",null),r.a.createElement(h.a,null,ee.map(function(e,t){return e.component?r.a.createElement(d.a,{key:t,path:e.path,exact:e.exact,name:e.name,render:function(t){return r.a.createElement(e.component,t)}}):null})))}}]),t}(n.Component)),re=a(51),le=a(37),oe=a(52),ce=a(53),se=a(54),ue=a.n(se),ie=a(36),me={isLoggedIn:!1,user:null},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return Object(ie.a)({},e,{isLoggedIn:t.isLoggedIn,user:t.user});case"USER_LOGOUT":return Object(ie.a)({},e,{isLoggedIn:!1,user:null});default:return e}},he=Object(Z.combineReducers)({user:pe}),de={key:"root",whiteList:["user"],storage:ue.a},be=Object(le.a)(de,he),Ee=[];Ee.push(ce.a);var ge=[Z.applyMiddleware.apply(void 0,Ee)],fe=oe.composeWithDevTools.apply(void 0,ge),ve=Object(Z.createStore)(be,{},fe),Oe=function(){var e=Object(le.b)(ve);return{store:ve,persistor:e}}(),we=Oe.store,je=Oe.persistor,ye=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(W.a,{store:we},r.a.createElement(re.a,{loading:null,persistor:je},r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement(d.a,{path:"/",name:"Home",component:ne})))))}}]),t}(n.Component);a(96);o.a.render(r.a.createElement(ye,null),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.23b2f367.chunk.js.map